# GPU Cloud Orchestrator - Production Environment
# Copy this to .env.production and fill in real values

# =============================================================================
# APPLICATION
# =============================================================================

DEBUG=false
ENVIRONMENT=production

# =============================================================================
# DATABASE (Use managed PostgreSQL - Neon, Supabase, AWS RDS, etc.)
# =============================================================================

# Example for Neon:
# DATABASE_URL=postgresql+asyncpg://user:password@ep-xxx.us-east-2.aws.neon.tech/gpu_orchestrator?sslmode=require

DATABASE_URL=postgresql+asyncpg://user:password@host:5432/gpu_orchestrator

# =============================================================================
# REDIS (Use managed Redis - Upstash, Redis Cloud, AWS ElastiCache, etc.)
# =============================================================================

# Example for Upstash:
# REDIS_URL=rediss://default:password@xxx.upstash.io:6379

REDIS_URL=redis://:password@host:6379/0

# =============================================================================
# JWT AUTHENTICATION
# Generate a strong secret: python -c "import secrets; print(secrets.token_urlsafe(64))"
# =============================================================================

JWT_SECRET_KEY=REPLACE_WITH_64_BYTE_RANDOM_SECRET
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# =============================================================================
# PROVIDER API KEYS (REQUIRED FOR PRODUCTION)
# =============================================================================

# RunPod: https://www.runpod.io/console/user/settings
RUNPOD_API_KEY=your_runpod_api_key

# Vast.ai: https://cloud.vast.ai/account/
VAST_AI_API_KEY=your_vast_ai_api_key

# Lambda Labs: https://cloud.lambda.ai/api-keys
LAMBDA_LABS_API_KEY=your_lambda_labs_api_key

# =============================================================================
# PRODUCTION MODE
# =============================================================================

USE_MOCK_PROVIDERS=false
SOURCING_ENABLED=true
AUTO_PROVISIONING_ENABLED=true

# =============================================================================
# SOURCING CONFIGURATION
# =============================================================================

SOURCING_MAX_INSTANCES=10
SOURCING_MAX_PRICE_PER_HOUR=5.00
SOURCING_INTERVAL_SECONDS=60
SOURCING_MIN_RELIABILITY=0.95

# =============================================================================
# BILLING
# =============================================================================

DEFAULT_MARKUP_PERCENT=25
BILLING_INTERVAL_SECONDS=60
MINIMUM_BALANCE_FOR_POD=5.0
LOW_BALANCE_WARNING_THRESHOLD=20.0

# =============================================================================
# STRIPE PAYMENTS
# Get keys from: https://dashboard.stripe.com/apikeys
# =============================================================================

STRIPE_ENABLED=true
STRIPE_SECRET_KEY=sk_live_your_secret_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key

# Webhook secret from: https://dashboard.stripe.com/webhooks
# Create webhook pointing to: https://api.yourdomain.com/api/v1/billing/webhook
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# BRAIN PUBLIC URL (for agent callbacks and install scripts)
# =============================================================================

BRAIN_PUBLIC_URL=https://api.yourdomain.com

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# Provider: console (dev), smtp, sendgrid
EMAIL_PROVIDER=sendgrid
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=GPU Cloud
EMAIL_VERIFICATION_REQUIRED=true

# SendGrid (recommended for production)
# Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your_sendgrid_api_key

# SMTP Alternative (if not using SendGrid)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_USE_TLS=true

# =============================================================================
# CORS (Add your frontend domains)
# =============================================================================

ALLOWED_ORIGINS=["https://yourdomain.com","https://app.yourdomain.com"]
